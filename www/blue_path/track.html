<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/Blue.css"> 
    <a href="proactive.html"><button class="button2">BACK</button></a>
</head>

<!--
TODO create a database to store entries locally or in a cloud.
-->
<div>
    <div class = "app" >
        <div>
            <fieldset>
                <legend>New Entry</legend>
                <label for="Date">Date and Time </label>
                <input type="text" id="Dtime" name="Date" placeholder="Day of event...">

                <label for="Trig/Strs">Trigger or Stressor</label>
                <input type="text" id="trigg" name="Trigger" placeholder="What Caused the Event...">
                
                <button type = "button" id=btnSave>Save Button</button>
            </fieldset>
            <fieldset>
                <legend>Past Entries</legend>
                <div id="jrnlDisp"></div>
            </fieldset>
        </div>
    </div>
    <!--
        create constants to hold the entries?
    -->
    <script type="text/javascript">
        const Dtime = document.getElementById("Dtime");
        const trigg = document.getElementById("trigg");
        const btnSave = document.getElementById("btnSave");
        const jrnlDisp =document.getElementById("jrnlDisp");

        //button that creates the entry objects and displays them in the terminal.
        btnSave.onclick = function() {
            const Edate = Dtime.value;
            const Trigger = trigg.value;
            
            //put that in the terminal for debug
            console.log(Edate);
            console.log(Trigger);
           

            // if the values exist save them in local memory.
            if (Edate && Trigger) {
                localStorage.setItem(Edate,trigger);
                location.reload();
            }
        };
        
        //a for loop that populates, and prints the entries in local storage or ls.
        for (let i = 0; i < localStorage.length; i++){
            const Edate =localStorage.getItem(Edate);
            const Trigger = localStorage.getItem(Trigger);

            //display entries with innerHTML clean it up later TODO.
            jrnlDisp.innerHTML += '${Edate}: ${Trigger}:';
        }
</script>
</div>
</html>